<!DOCTYPE html>
<html>
  <head>
    <title>Cuochi</title>
    <link rel="stylesheet" href="/css/global.css" />
    <link rel="stylesheet" href="/css/carousell.css" />
    <link rel="stylesheet" href="/css/cuochi.css" />
    <link rel="stylesheet" href="/css/cuocoProfilePage.css" />
    <link
      href="https://unpkg.com/boxicons@2.1.4/css/boxicons.min.css"
      rel="stylesheet"
    />
  </head>
  <body>
    <header>
      <div class="header-container">
        <a href="/" class="logo">
          <h1>SiwFood</h1>
        </a>
        <i class="bx bx-menu toggle-menu-btn" id="menu-icon"></i>

        <ul class="navbar">
          <li><a class="link" href="/">Home</a></li>
          <li><a class="link" href="/ricette">Ricette</a></li>
          <li><a class="link" href="/cuochi">Cuochi</a></li>
          <a class="link" th:if="${userDetails}" href="/logout">
            <i class="bx bxs-log-out header-icon"></i>
          </a>
          <a class="link" th:unless="${userDetails}" href="/login">
            <i class="bx bxs-log-in header-icon"></i>
          </a>

          <a href="/profilePage">
            <li th:if="${cuoco}" class="profile-image">
              <img
                th:src="@{'data:image/jpeg;base64,'+${cuoco.profileImage.generateBase64Image()}}"
                alt="immagine del professore"
              />
            </li>
          </a>
          <div th:if="${userDetails}">
            <a href="/profilePage">
              <li th:if="${admin}" class="profile-image-user">
                <img
                  src="/images/userProfileImg.png"
                  alt="immagine del professore"
                />
              </li>
            </a>
          </div>
          <div th:if="${userDetails}">
            <a href="/profilePage">
              <li th:if="${user}" class="profile-image-user">
                <img
                  src="/images/userProfileImg.png"
                  alt="immagine del cuoco"
                />
              </li>
            </a>
          </div>
        </ul>
      </div>
      <ul class="navbar mobile-menu">
        <li><a class="link" href="/">Home</a></li>
        <li><a class="link" href="/ricette">Ricette</a></li>
        <li><a class="link" href="/Cuochi">Cuochi</a></li>
        <a class="link" th:if="${userDetails}" href="/logout">
          <i class="bx bxs-log-out header-icon"></i>
        </a>
        <a class="link" th:unless="${userDetails}" href="/login">
          <i class="bx bxs-log-in header-icon"></i>
        </a>

        <a href="/profilePage">
          <li th:if="${cuoco}" class="profile-image">
            <img
              th:src="@{'data:image/jpeg;base64,'+${cuoco.profileImage.generateBase64Image()}}"
              alt="immagine del professore"
            />
          </li>
        </a>
        <div th:if="${userDetails}">
          <a href="/profilePage">
            <li th:if="${admin}" class="profile-image-user">
              <img src="/images/userProfileImg.png" alt="immagine del cuoco" />
            </li>
          </a>
        </div>
        <div th:if="${userDetails}">
          <a href="/profilePage">
            <li th:if="${user}" class="profile-image-user">
              <img src="/images/userProfileImg.png" alt="immagine del cuoco" />
            </li>
          </a>
        </div>
      </ul>
    </header>

    <section class="dettagli-section" th:if="${ricetta}">
      <h2
        th:text="${ricetta.nome}"
        style="color: var(--pink)"
        class="dettagli-section-title"
      ></h2>

      <div class="professor-container">
        <div class="div-img-bnts">
          <div style="overflow: hidden; max-width: 800px; border-radius: 30px">
            <img
              th:src="@{'data:image/jpeg;base64,'+${ricetta.getCopertina.generateBase64Image()}}"
              alt="immagine della ricceta"
            />
          </div>
          <div class="div-btn"></div>
        </div>

        <div class="info-container">
          <div class="div-info-border-blue">
            <p class="" style="font-size: 1.5rem" th:text="${ricetta.nome}"></p>
          </div>
          <div class="div-info-border-blue">
            <p th:text="'Tipologia: '+ ${ricetta.tipologia}"></p>
          </div>
          <div class="div-info-border-blue">
            <p
              th:text="'Tempo di preparazione: '+ ${ricetta.tempoPreparazioneTot} + ' min'"
            ></p>
          </div>
          <div class="info-div-btn">
            <a
              th:href="@{'/formNewIngrediente/'+${ricetta.id}}"
              class="btn-bg-red-hover-reddish"
              >Aggiungi ingrediente</a
            >
            <!-- <a href="/" class="btn-bg-trs-hover-red">Rimuovi ingrediente</a> -->
            <a
              th:href="@{'/rimuoviRicetta/'+${ricetta.id}}"
              class="btn-bg-trs-hover-red"
              >Elemina ricetta</a
            >
            <a
              th:if="${ricetta.getCuoco==null}"
              th:href="@{'/setCuocoInRicetta/'+${ricetta.id}}"
              class="btn-bg-trs-hover-red"
              >Aggiungi cuoco</a
            >
            <!-- <a
              th:if="${credentials.cuoco==null}"
              th:unless="${ricetta.getCuoco==null}"
              th:href="@{'/rimuoviCuoco/'+${ricetta.getCuoco.id}}"
              class="btn-bg-trs-hover-red"
              >Rimuovi cuoco</a
            > -->
          </div>
        </div>
      </div>
    </section>

    <section
      style="
        margin-top: 2rem;
        width: 100%;
        max-width: 900px;
        display: flex;
        flex-direction: column;
      "
    >
      <div
        style="
          display: flex;
          justify-content: space-between;
          flex-direction: column;
          gap: 2rem;
        "
        class="flex-colum-on-media-query"
      >
        <div
          style="
            width: 100%;
            border: solid var(--blue) 2px;
            border-radius: 15px;
            padding: 1rem;
          "
        >
          <p style="color: var(--pink); font-size: 2rem; font-weight: bold">
            Descrizione
          </p>
          <br />
          <p th:text="${ricetta.descrizione}"></p>
        </div>
        <div th:if="${ricetta.getCuoco!=null}">
          <h3
            style="
              font-size: 2rem;
              font-weight: bold;
              margin-bottom: 1rem;
              color: var(--pink);
            "
          >
            Cuoco
          </h3>
          <div
            style="display: flex; justify-content: center; align-items: center"
          >
            <a th:href="@{'/cuoco' + '/' + ${ricetta.cuoco.id}}">
              <div
                class="carousell-widget"
                style="padding: 0; padding-right: 0"
              >
                <div class="carousell-widget-image-container">
                  <img
                    th:src="@{'data:image/jpeg;base64,'+${ricetta.cuoco.profileImage.generateBase64Image()}}"
                    alt="immagine del cuoco"
                  />
                </div>
                <div class="carousell-widget-info">
                  <span style="display: flex; align-items: center; gap: 0.3rem">
                    <i class="bx bxs-user"></i>
                    <p
                      th:text="${ricetta.cuoco.nome} + ' ' + ${ricetta.cuoco.cognome}"
                    ></p>
                  </span>
                  <span style="display: flex; align-items: center; gap: 0.3rem">
                    <i class="bx bxs-envelope"></i>
                    <p th:text="'email: '+${ricetta.cuoco.email}"></p>
                  </span>
                </div>
              </div>
            </a>
          </div>
        </div>
      </div>
    </section>

    <section
      th:unless="${#lists.isEmpty(ricetta.getIngredienti)}"
      class="first-section"
    >
      <h2 style="font-size: 2rem; margin: 1rem 0 1rem 0; color: var(--pink)">
        Ingredienti
      </h2>
      <ul class="carousell-container">
        <li th:each="ingrediente: ${ricetta.getIngredienti}">
          <div class="carousell-widget" style="padding: 0; padding-right: 0">
            <div
              style="display: flex; flex-direction: column; gap: 1rem"
              class="carousell-widget-info"
            >
              <span style="display: flex; align-items: center; gap: 0.3rem">
                <h3
                  style="font-size: 2rem; color: var(--blue)"
                  th:text="${ingrediente.nome}"
                ></h3>
              </span>
              <span style="display: flex; align-items: center; gap: 0.3rem">
                <i class="bx bxs-envelope"></i>
                <p th:text="'Quantita '+${ingrediente.quantita}"></p>
                <p th:text="${ingrediente.misura}"></p>
              </span>
              <div style="display: flex; justify-content: center">
                <a
                  th:href="@{'/rimuoviIngrediente/'+${ricetta.id}+'/'+${ingrediente.id}}"
                  class="btn-bg-red-hover-reddish"
                  >Rimuovi ingrediente</a
                >
              </div>
            </div>
          </div>
        </li>
      </ul>
    </section>

    <section class="first-section">
      <h2 style="font-size: 2rem; margin: 1rem 0 1rem 0; color: var(--pink)">
        Altre immagini
      </h2>
      <ul class="carousell-container">
        <li th:each="image: ${ricetta.getImages}">
          <div class="" style="padding: 0; padding-right: 0">
            <div class="carousell-widget-image-container">
              <img
                th:src="@{'data:image/jpeg;base64,'+${image.generateBase64Image()}}"
                alt="immagine della ricceta"
              />
            </div>
          </div>
        </li>
      </ul>
    </section>
    <div style="margin-top: 3rem">
      <a
        th:href="@{'/formNewImage/'+${ricetta.id}}"
        class="btn-bg-red-hover-reddish"
        >Aggiungi Immagine</a
      >
    </div>

    <section style="height: 50vh"></section>
  </body>
  <script src="/js/app.js"></script>
</html>
